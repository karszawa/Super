(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,,,,,,,,,function(e,a,t){e.exports=t.p+"4212f8f499ac4c0bc3b962d38be36bed.webp"},function(e,a,t){e.exports=t.p+"05ff99665b0ccb5a72ca81b53704dc33.webp"},function(e,a,t){e.exports=t.p+"641f04704756abd3ab594c493c6f0da0.webp"},function(e,a,t){e.exports=t.p+"5706c29bf699e3f299048b9a1fdb2a03.webp"},,,,function(e,a,t){t(18),t(41),e.exports=t(38)},,,,,,,,,,,,,,,function(e,a,t){var n={"./0-title.mdx":33,"./1-introduction.mdx":34,"./2-itp-team.mdx":35,"./3-complex-business-logic.mdx":42,"./4-scrum.mdx":36,"./5-summary.mdx":37};function l(e){var a=r(e);return t(a)}function r(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=r,e.exports=l,l.id=32},function(e,a,t){"use strict";t.r(a),t.d(a,"slides",(function(){return i})),t.d(a,"fusumaProps",(function(){return b})),t.d(a,"default",(function(){return s}));var n=t(2),l=t.n(n),r=t(1);function c(){return(c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function u(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=[function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h1",null,"メルカリITPチームが開発速度とソフトウェア品質を高めるためにやっていること"),Object(r.a)("p",null,"Hiroaki KARASAWA 🐈 @karszawa"),Object(r.a)("p",null,"Mercari Engineer's meetup for students vol.3 (2019/11/25)"))}],b=[{classes:"title"}],o={slides:i},O="wrapper";function s(e){var a=e.components,t=u(e,["components"]);return Object(r.a)(O,c({},o,t,{components:a,mdxType:"MDXLayout"}),Object(r.a)("h1",null,"メルカリITPチームが開発速度とソフトウェア品質を高めるためにやっていること"),Object(r.a)("p",null,"Hiroaki KARASAWA 🐈 @karszawa"),Object(r.a)("p",null,"Mercari Engineer's meetup for students vol.3 (2019/11/25)"))}s.isMDXComponent=!0},function(e,a,t){"use strict";t.r(a),t.d(a,"slides",(function(){return i})),t.d(a,"fusumaProps",(function(){return b})),t.d(a,"default",(function(){return s}));var n=t(2),l=t.n(n),r=t(1);function c(){return(c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function u(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=[function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"自己紹介"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"💁‍♂️ ",Object(r.a)("span",{className:"hs-8"})," Hiroaki KARASAWA"),Object(r.a)("li",{parentName:"ul"},"🐦 ",Object(r.a)("span",{className:"hs-8"})," @karszawa"),Object(r.a)("li",{parentName:"ul"},"💼 ",Object(r.a)("span",{className:"hs-8"})," Mercari, ",Object(r.a)("strong",{parentName:"li"},"Web Frontend Engineer")," (2019新卒)"),Object(r.a)("li",{parentName:"ul"},"💘 ",Object(r.a)("span",{className:"hs-8"})," React, TypeScript, GraphQL, ReactNative(Expo)")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"学生時代"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"明石高専 ☞ 東京大学EEIC（編入）☞ 学士（工学）"),Object(r.a)("li",{parentName:"ul"},"メルカリ / LINE / クックパッド など5社でインターン"),Object(r.a)("li",{parentName:"ul"},"JPHacks などのハッカソンに参加"),Object(r.a)("li",{parentName:"ul"},"卒業研究で管理栄養士とアスリート向けのサービスを開発")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"仕事"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"2019年4月 株式会社メルカリに新卒入社"),Object(r.a)("li",{parentName:"ul"},"同6月 ",Object(r.a)("strong",{parentName:"li"},"Logistics and Transaction Team"),"のフロントエンドエンジニア")))}],b=[{},{},{}],o={slides:i},O="wrapper";function s(e){var a=e.components,t=u(e,["components"]);return Object(r.a)(O,c({},o,t,{components:a,mdxType:"MDXLayout"}),Object(r.a)("h2",null,"自己紹介"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"💁‍♂️ ",Object(r.a)("span",{className:"hs-8"})," Hiroaki KARASAWA"),Object(r.a)("li",{parentName:"ul"},"🐦 ",Object(r.a)("span",{className:"hs-8"})," @karszawa"),Object(r.a)("li",{parentName:"ul"},"💼 ",Object(r.a)("span",{className:"hs-8"})," Mercari, ",Object(r.a)("strong",{parentName:"li"},"Web Frontend Engineer")," (2019新卒)"),Object(r.a)("li",{parentName:"ul"},"💘 ",Object(r.a)("span",{className:"hs-8"})," React, TypeScript, GraphQL, ReactNative(Expo)")),Object(r.a)("hr",null),Object(r.a)("h2",null,"学生時代"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"明石高専 ☞ 東京大学EEIC（編入）☞ 学士（工学）"),Object(r.a)("li",{parentName:"ul"},"メルカリ / LINE / クックパッド など5社でインターン"),Object(r.a)("li",{parentName:"ul"},"JPHacks などのハッカソンに参加"),Object(r.a)("li",{parentName:"ul"},"卒業研究で管理栄養士とアスリート向けのサービスを開発")),Object(r.a)("hr",null),Object(r.a)("h2",null,"仕事"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"2019年4月 株式会社メルカリに新卒入社"),Object(r.a)("li",{parentName:"ul"},"同6月 ",Object(r.a)("strong",{parentName:"li"},"Logistics and Transaction Team"),"のフロントエンドエンジニア")))}s.isMDXComponent=!0},function(e,a,t){"use strict";t.r(a),t.d(a,"slides",(function(){return i})),t.d(a,"fusumaProps",(function(){return b})),t.d(a,"default",(function(){return s}));var n=t(2),l=t.n(n),r=t(1);function c(){return(c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function u(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=[function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"今日話すこと"),Object(r.a)("ol",null,Object(r.a)("li",{parentName:"ol"},"自己紹介"),Object(r.a)("li",{parentName:"ol"},Object(r.a)("strong",{parentName:"li"},"ITPチームについて")," ← イマココ"),Object(r.a)("li",{parentName:"ol"},"ITPのコードベース上での工夫"),Object(r.a)("li",{parentName:"ol"},"ITPの開発体制に関する工夫"),Object(r.a)("li",{parentName:"ol"},"まとめ")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Web Frontend teams in Mercari"),Object(r.a)("img",{src:"https://github.com/karszawa/bio/blob/how-to-handle-speed-and-stability/slides/how-to-handle-speed-and-quality/slides/img/web-teams-in-mercari.png?raw=true",style:{height:"80rem"}}))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"WebアプリケーションとしてのITP"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"React / Redux / Redux-Saga による SPA")),Object(r.a)("li",{parentName:"ul"},"WebView上でのみ表示される特殊なアプリケーション",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"開発はシミュレータではなくPCのブラウザで")))),Object(r.a)("span",{className:"note"},"（最終確認はシミュレータだが、シミュレータは操作しにくくデバッグしにくいので使わない）"))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"ITPの主な機能"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"購入者と出品者がテキストで会話できる 🗣️"),Object(r.a)("li",{parentName:"ul"},"出品者が出品方法を選択して発送できる 📦"),Object(r.a)("li",{parentName:"ul"},"ヤマトや日本郵政のAPIとのやり取りが多い 🐈 💖 🧸")),Object(r.a)("img",{src:t(10),style:{height:"60rem"}}))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"ITPチームの最近の活動"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"らくらくメルカリ便で「受け取り場所の変更」ができるようになった"),Object(r.a)("li",{parentName:"ul"},"ゆうゆうメルカリ便で「ゆうパケットプラス」が選択できるようになった")),Object(r.a)("img",{src:t(11)}),Object(r.a)("span",{className:"cite"},"ゆうパケットプラスの提供開始！そこで、何が「#ゆうパケットプラスに入った」のか をやってみた #メルカリな日々 | メルカン | https://mercan.mercari.com/articles/17554/"))}],b=[{},{},{},{},{}],o={slides:i},O="wrapper";function s(e){var a=e.components,n=u(e,["components"]);return Object(r.a)(O,c({},o,n,{components:a,mdxType:"MDXLayout"}),Object(r.a)("h2",null,"今日話すこと"),Object(r.a)("ol",null,Object(r.a)("li",{parentName:"ol"},"自己紹介"),Object(r.a)("li",{parentName:"ol"},Object(r.a)("strong",{parentName:"li"},"ITPチームについて")," ← イマココ"),Object(r.a)("li",{parentName:"ol"},"ITPのコードベース上での工夫"),Object(r.a)("li",{parentName:"ol"},"ITPの開発体制に関する工夫"),Object(r.a)("li",{parentName:"ol"},"まとめ")),Object(r.a)("hr",null),Object(r.a)("h2",null,"Web Frontend teams in Mercari"),Object(r.a)("img",{src:"https://github.com/karszawa/bio/blob/how-to-handle-speed-and-stability/slides/how-to-handle-speed-and-quality/slides/img/web-teams-in-mercari.png?raw=true",style:{height:"80rem"}}),Object(r.a)("hr",null),Object(r.a)("h2",null,"WebアプリケーションとしてのITP"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"React / Redux / Redux-Saga による SPA")),Object(r.a)("li",{parentName:"ul"},"WebView上でのみ表示される特殊なアプリケーション",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"開発はシミュレータではなくPCのブラウザで")))),Object(r.a)("span",{className:"note"},"（最終確認はシミュレータだが、シミュレータは操作しにくくデバッグしにくいので使わない）"),Object(r.a)("hr",null),Object(r.a)("h2",null,"ITPの主な機能"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"購入者と出品者がテキストで会話できる 🗣️"),Object(r.a)("li",{parentName:"ul"},"出品者が出品方法を選択して発送できる 📦"),Object(r.a)("li",{parentName:"ul"},"ヤマトや日本郵政のAPIとのやり取りが多い 🐈 💖 🧸")),Object(r.a)("img",{src:t(10),style:{height:"60rem"}}),Object(r.a)("hr",null),Object(r.a)("h2",null,"ITPチームの最近の活動"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"らくらくメルカリ便で「受け取り場所の変更」ができるようになった"),Object(r.a)("li",{parentName:"ul"},"ゆうゆうメルカリ便で「ゆうパケットプラス」が選択できるようになった")),Object(r.a)("img",{src:t(11)}),Object(r.a)("span",{className:"cite"},"ゆうパケットプラスの提供開始！そこで、何が「#ゆうパケットプラスに入った」のか をやってみた #メルカリな日々 | メルカン | https://mercan.mercari.com/articles/17554/"))}s.isMDXComponent=!0},function(e,a,t){"use strict";t.r(a),t.d(a,"slides",(function(){return i})),t.d(a,"fusumaProps",(function(){return b})),t.d(a,"default",(function(){return s}));var n=t(2),l=t.n(n),r=t(1);function c(){return(c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function u(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=[function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"取引画面ごとのコンポーネントなどドメイン知識も結構必要"),Object(r.a)("li",{parentName:"ul"},"知識の共有には組織体制としての工夫も必要")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("ol",null,Object(r.a)("li",{parentName:"ol"},"自己紹介"),Object(r.a)("li",{parentName:"ol"},"ITPチームについて"),Object(r.a)("li",{parentName:"ol"},"ITPのコードベース上での工夫"),Object(r.a)("li",{parentName:"ol"},Object(r.a)("strong",{parentName:"li"},"ITPの開発体制に関する工夫")," ← 次ここ"),Object(r.a)("li",{parentName:"ol"},"まとめ")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"What is ",Object(r.a)("strong",{parentName:"h2"},"SCRUM")),Object(r.a)("p",null,"持続可能なチームを作るための組織開発方法のフレームワーク"))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"スクラムセレモニー（会議）"),Object(r.a)("p",null,"1スプリント（2週間）に一度"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Sprint Review (成果物の共有)"),Object(r.a)("li",{parentName:"ul"},"Sprint Retrospective (全般的な振り返り)"),Object(r.a)("li",{parentName:"ul"},"Product Backlog Refinement (タスクの確認・選択)"),Object(r.a)("li",{parentName:"ul"},"Sprint Planning (スプリントで実行するタスクの選択)")),Object(r.a)("p",null,"毎日"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Standup (タスクの確認)")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"スクラムの長所・短所"),Object(r.a)("p",null,"長所"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"個人に依存しない",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"チームへのアサインがあるのみで個人へのアサインがない"),Object(r.a)("li",{parentName:"ul"},"(Daily standupで毎日担当を変更することも可能)")))),Object(r.a)("p",null,"短所"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"仕様の共有のための会議に時間を使う（業務時間の10%ほど）")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"個人に依存しないことの利点"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"全員がほぼ完全なドメイン知識を持っている",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"「OOはXXが詳しいから彼が担当」ということが起きない"))),Object(r.a)("li",{parentName:"ul"},"レビューのクオリティが高くなる",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"ソフトウェアデザイン的な視点だけでなくビジネス的な視点からも仕様をきちんと把握した上で高度なレビューができる"))),Object(r.a)("li",{parentName:"ul"},"モブプログラミングを実施できる",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"コンテキストが共有されているので"))),Object(r.a)("li",{parentName:"ul"},"業務量の平準化",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"休みやすい → 有給もSick Leaveも")))))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h1",null,"ITPチームでのスクラム"))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Sprint Review (30min)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"ユーザーストーリーに沿って機能のデモを行う"),Object(r.a)("li",{parentName:"ul"},"ユーザーの視点からステークホルダーからレビューをもらう"),Object(r.a)("li",{parentName:"ul"},"特に問題なければリリースできる")),Object(r.a)("img",{src:t(13),style:{height:"40rem"}}))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Sprint Retrospective (30min)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"そのスプリントでの行動をKPT(Keep/Problem/Try)で分類"),Object(r.a)("li",{parentName:"ul"},"開発の効率・品質を上げるために何ができるかを考えて次回のスプリントに活かす")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Product Backlog Refinement (30min)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"チケットの内容を精査し、内容が不十分であれば明確にする"),Object(r.a)("li",{parentName:"ul"},"メンバーがチケットの内容を理解しているか確認",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"全員が機能を理解するまでとことんやる")))))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Sprint Planning (1h)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"タスクを",Object(r.a)("strong",{parentName:"li"},"S・M・L"),"でざっくり推定",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},Object(r.a)("span",{className:"note"},"正確な推定は不可能なのでやるだけ無駄")))),Object(r.a)("li",{parentName:"ul"},"推定が難しい調査系のタスクは",Object(r.a)("strong",{parentName:"li"},"「2人で1日」"),"等の人月型タイムボックスで実施",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"その期間で終わらなければ、他のタスクとの優先度を再度調整",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},Object(r.a)("span",{className:"note"},"優先度が下がって次のスプリントになることも"))))))))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Daily standup (10min)"),Object(r.a)("p",null,"進捗状況の確認のために次の3つを各人がチームメンバーに説明"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"昨日やったこと")),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"今日やること")),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"ブロッカー"))))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"スプリントの実施"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Sprint Planningで定義したタスクリストを優先度順に処理していく"),Object(r.a)("li",{parentName:"ul"},"特定の誰かが決まったアサインであることは少なく、Daily standupでその日の担当を決めるだけ")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"スクラムコーチ"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"今年に入ってからメルカリは全社的にスクラムの実施を開始した"),Object(r.a)("li",{parentName:"ul"},"外部の会社からスクラムコーチを招待して指導を受けている")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Scrum so far"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"ITPチームではスクラムを開始して半年ほど"),Object(r.a)("li",{parentName:"ul"},"開始直後はメンバー間でドメイン知識が共有されておらず、知識共有に時間がかかることも"),Object(r.a)("li",{parentName:"ul"},"最近はメンバー間で知識が平準化されてきたので効率が上がってきた 😎")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"スクラムまとめ"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"チームメンバーの変動に強い",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"メンバーの参加・離脱の両方で"))),Object(r.a)("li",{parentName:"ul"},"個人としての生産性よりもチームとしての生産性を重視する",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"会社としての成果が出やすい")))))}],b=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],o={slides:i},O="wrapper";function s(e){var a=e.components,n=u(e,["components"]);return Object(r.a)(O,c({},o,n,{components:a,mdxType:"MDXLayout"}),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"取引画面ごとのコンポーネントなどドメイン知識も結構必要"),Object(r.a)("li",{parentName:"ul"},"知識の共有には組織体制としての工夫も必要")),Object(r.a)("hr",null),Object(r.a)("ol",null,Object(r.a)("li",{parentName:"ol"},"自己紹介"),Object(r.a)("li",{parentName:"ol"},"ITPチームについて"),Object(r.a)("li",{parentName:"ol"},"ITPのコードベース上での工夫"),Object(r.a)("li",{parentName:"ol"},Object(r.a)("strong",{parentName:"li"},"ITPの開発体制に関する工夫")," ← 次ここ"),Object(r.a)("li",{parentName:"ol"},"まとめ")),Object(r.a)("hr",null),Object(r.a)("h2",null,"What is ",Object(r.a)("strong",{parentName:"h2"},"SCRUM")),Object(r.a)("p",null,"持続可能なチームを作るための組織開発方法のフレームワーク"),Object(r.a)("hr",null),Object(r.a)("h2",null,"スクラムセレモニー（会議）"),Object(r.a)("p",null,"1スプリント（2週間）に一度"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Sprint Review (成果物の共有)"),Object(r.a)("li",{parentName:"ul"},"Sprint Retrospective (全般的な振り返り)"),Object(r.a)("li",{parentName:"ul"},"Product Backlog Refinement (タスクの確認・選択)"),Object(r.a)("li",{parentName:"ul"},"Sprint Planning (スプリントで実行するタスクの選択)")),Object(r.a)("p",null,"毎日"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Standup (タスクの確認)")),Object(r.a)("hr",null),Object(r.a)("h2",null,"スクラムの長所・短所"),Object(r.a)("p",null,"長所"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"個人に依存しない",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"チームへのアサインがあるのみで個人へのアサインがない"),Object(r.a)("li",{parentName:"ul"},"(Daily standupで毎日担当を変更することも可能)")))),Object(r.a)("p",null,"短所"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"仕様の共有のための会議に時間を使う（業務時間の10%ほど）")),Object(r.a)("hr",null),Object(r.a)("h2",null,"個人に依存しないことの利点"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"全員がほぼ完全なドメイン知識を持っている",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"「OOはXXが詳しいから彼が担当」ということが起きない"))),Object(r.a)("li",{parentName:"ul"},"レビューのクオリティが高くなる",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"ソフトウェアデザイン的な視点だけでなくビジネス的な視点からも仕様をきちんと把握した上で高度なレビューができる"))),Object(r.a)("li",{parentName:"ul"},"モブプログラミングを実施できる",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"コンテキストが共有されているので"))),Object(r.a)("li",{parentName:"ul"},"業務量の平準化",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"休みやすい → 有給もSick Leaveも")))),Object(r.a)("hr",null),Object(r.a)("h1",null,"ITPチームでのスクラム"),Object(r.a)("hr",null),Object(r.a)("h2",null,"Sprint Review (30min)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"ユーザーストーリーに沿って機能のデモを行う"),Object(r.a)("li",{parentName:"ul"},"ユーザーの視点からステークホルダーからレビューをもらう"),Object(r.a)("li",{parentName:"ul"},"特に問題なければリリースできる")),Object(r.a)("img",{src:t(13),style:{height:"40rem"}}),Object(r.a)("hr",null),Object(r.a)("h2",null,"Sprint Retrospective (30min)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"そのスプリントでの行動をKPT(Keep/Problem/Try)で分類"),Object(r.a)("li",{parentName:"ul"},"開発の効率・品質を上げるために何ができるかを考えて次回のスプリントに活かす")),Object(r.a)("hr",null),Object(r.a)("h2",null,"Product Backlog Refinement (30min)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"チケットの内容を精査し、内容が不十分であれば明確にする"),Object(r.a)("li",{parentName:"ul"},"メンバーがチケットの内容を理解しているか確認",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"全員が機能を理解するまでとことんやる")))),Object(r.a)("hr",null),Object(r.a)("h2",null,"Sprint Planning (1h)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"タスクを",Object(r.a)("strong",{parentName:"li"},"S・M・L"),"でざっくり推定",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},Object(r.a)("span",{className:"note"},"正確な推定は不可能なのでやるだけ無駄")))),Object(r.a)("li",{parentName:"ul"},"推定が難しい調査系のタスクは",Object(r.a)("strong",{parentName:"li"},"「2人で1日」"),"等の人月型タイムボックスで実施",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"その期間で終わらなければ、他のタスクとの優先度を再度調整",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},Object(r.a)("span",{className:"note"},"優先度が下がって次のスプリントになることも"))))))),Object(r.a)("hr",null),Object(r.a)("h2",null,"Daily standup (10min)"),Object(r.a)("p",null,"進捗状況の確認のために次の3つを各人がチームメンバーに説明"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"昨日やったこと")),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"今日やること")),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"ブロッカー"))),Object(r.a)("hr",null),Object(r.a)("h2",null,"スプリントの実施"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Sprint Planningで定義したタスクリストを優先度順に処理していく"),Object(r.a)("li",{parentName:"ul"},"特定の誰かが決まったアサインであることは少なく、Daily standupでその日の担当を決めるだけ")),Object(r.a)("hr",null),Object(r.a)("h2",null,"スクラムコーチ"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"今年に入ってからメルカリは全社的にスクラムの実施を開始した"),Object(r.a)("li",{parentName:"ul"},"外部の会社からスクラムコーチを招待して指導を受けている")),Object(r.a)("hr",null),Object(r.a)("h2",null,"Scrum so far"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"ITPチームではスクラムを開始して半年ほど"),Object(r.a)("li",{parentName:"ul"},"開始直後はメンバー間でドメイン知識が共有されておらず、知識共有に時間がかかることも"),Object(r.a)("li",{parentName:"ul"},"最近はメンバー間で知識が平準化されてきたので効率が上がってきた 😎")),Object(r.a)("hr",null),Object(r.a)("h2",null,"スクラムまとめ"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"チームメンバーの変動に強い",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"メンバーの参加・離脱の両方で"))),Object(r.a)("li",{parentName:"ul"},"個人としての生産性よりもチームとしての生産性を重視する",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},"会社としての成果が出やすい")))))}s.isMDXComponent=!0},function(e,a,t){"use strict";t.r(a),t.d(a,"slides",(function(){return i})),t.d(a,"fusumaProps",(function(){return b})),t.d(a,"default",(function(){return s}));var n=t(2),l=t.n(n),r=t(1);function c(){return(c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function u(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=[function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"まとめ | 話したこと"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"コードベース上の工夫"),Object(r.a)("li",{parentName:"ul"},"組織体制上の工夫（スクラム）")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"まとめ | 話してないこと"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Re-architecture プロジェクト（古いページから新しいページにマイグレートする方法）"),Object(r.a)("li",{parentName:"ul"},"レイヤごとに選択したテストツール（Jest,Enzyme,Storybook,Storyshots,Cypress）"),Object(r.a)("li",{parentName:"ul"},"Redux-Sagaのテストが書きやすいという話ともっと書きやすくするための工夫"),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"コードオーナー"),"による品質の保証とメンバーの教育"),Object(r.a)("li",{parentName:"ul"},"QAとの協力的E2Eテスト"),Object(r.a)("li",{parentName:"ul"},"WebViewの",Object(r.a)("strong",{parentName:"li"},"デザインシステム"),"が難しいという話"),Object(r.a)("li",{parentName:"ul"},"最近筋トレを始めた話"),Object(r.a)("li",{parentName:"ul"},"開発時におけるバックエンドへの依存を減らすための",Object(r.a)("strong",{parentName:"li"},"モックサーバー")),Object(r.a)("li",{parentName:"ul"},"最近そのモックサーバーをon-browserにしようとしている話"),Object(r.a)("li",{parentName:"ul"},"WebView特有のクライアント",Object(r.a)("strong",{parentName:"li"},"ネイティブAPIのモッキング")),Object(r.a)("li",{parentName:"ul"},"Design Doc / UI Design / PJDoc のどこに何を書くか悩んでいる話"),Object(r.a)("li",{parentName:"ul"},"なぜ新卒としてメルカリに入社したか"),Object(r.a)("li",{parentName:"ul"},"Develop as OSSな話"),Object(r.a)("li",{parentName:"ul"},"Engineering ManagerとTech LeadとDeveloperの役割")))}],b=[{},{}],o={slides:i},O="wrapper";function s(e){var a=e.components,t=u(e,["components"]);return Object(r.a)(O,c({},o,t,{components:a,mdxType:"MDXLayout"}),Object(r.a)("h2",null,"まとめ | 話したこと"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"コードベース上の工夫"),Object(r.a)("li",{parentName:"ul"},"組織体制上の工夫（スクラム）")),Object(r.a)("hr",null),Object(r.a)("h2",null,"まとめ | 話してないこと"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Re-architecture プロジェクト（古いページから新しいページにマイグレートする方法）"),Object(r.a)("li",{parentName:"ul"},"レイヤごとに選択したテストツール（Jest,Enzyme,Storybook,Storyshots,Cypress）"),Object(r.a)("li",{parentName:"ul"},"Redux-Sagaのテストが書きやすいという話ともっと書きやすくするための工夫"),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"コードオーナー"),"による品質の保証とメンバーの教育"),Object(r.a)("li",{parentName:"ul"},"QAとの協力的E2Eテスト"),Object(r.a)("li",{parentName:"ul"},"WebViewの",Object(r.a)("strong",{parentName:"li"},"デザインシステム"),"が難しいという話"),Object(r.a)("li",{parentName:"ul"},"最近筋トレを始めた話"),Object(r.a)("li",{parentName:"ul"},"開発時におけるバックエンドへの依存を減らすための",Object(r.a)("strong",{parentName:"li"},"モックサーバー")),Object(r.a)("li",{parentName:"ul"},"最近そのモックサーバーをon-browserにしようとしている話"),Object(r.a)("li",{parentName:"ul"},"WebView特有のクライアント",Object(r.a)("strong",{parentName:"li"},"ネイティブAPIのモッキング")),Object(r.a)("li",{parentName:"ul"},"Design Doc / UI Design / PJDoc のどこに何を書くか悩んでいる話"),Object(r.a)("li",{parentName:"ul"},"なぜ新卒としてメルカリに入社したか"),Object(r.a)("li",{parentName:"ul"},"Develop as OSSな話"),Object(r.a)("li",{parentName:"ul"},"Engineering ManagerとTech LeadとDeveloperの役割")))}s.isMDXComponent=!0},,function(e,a,t){var n=t(40);"string"==typeof n&&(n=[[e.i,n,""]]);var l={insert:"head",singleton:!1};t(3)(n,l);n.locals&&(e.exports=n.locals)},function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(2),l=t.n(n),r=t(1);function c(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function u(){return(u=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}t.d(a,"slides",(function(){return i})),t.d(a,"fusumaProps",(function(){return b})),t.d(a,"default",(function(){return s}));var i=[function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h1",null,"今日のトピック"))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h1",null,"開発速度と品質を両立しながら開発を行うためにITPチームが何を行っているか"))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"今日のまとめ"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"巨大なビジネスロジックの制御方法（何を作っているか）"),Object(r.a)("li",{parentName:"ul"},"スクラムの実践方法（どうやって作っているか）")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"ITPは単一のアプリケーションだが巨大で複雑なビジネスロジックを持っている"),Object(r.a)("p",null,"ITP（取引画面）は次の条件で振る舞いを変える"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"購入者")," か ",Object(r.a)("strong",{parentName:"li"},"出品者")),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"取引状態")," (WaitShipping / WaitReview / Done, ...)"),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"発送方法")," (らくらくメルカリ便, ゆうゆうメルカリ便, 大型らくらくメルカリ便, ...)"),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"商品カテゴリ")," (あんしんスマホサポート, あんしん自動車保証, ...)")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"ITP（取引画面）の例"),Object(r.a)("p",null,Object(r.a)("img",u({parentName:"p"},{src:"https://github.com/karszawa/bio/blob/how-to-handle-speed-and-stability/slides/how-to-handle-speed-and-quality/slides/img/transaction-pages.png?raw=true",alt:"transaction-pages"}))))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"ポイント 💡"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"ビジネスロジックは画面ごとに異なる"),Object(r.a)("li",{parentName:"ul"},"共有できるコンポーネントが多くある"),Object(r.a)("li",{parentName:"ul"},"☞ ビジネスロジックとUIがきれいに分割できるかどうかが重要")),Object(r.a)("span",{className:"vs-16"}),Object(r.a)("h2",null,"ビジネスロジックとUIがきれいに分割できると"),Object(r.a)("span",{className:"vs-16"}),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"再利用がしやすい （",Object(r.a)("strong",{parentName:"li"},"開発速度の向上"),"）"),Object(r.a)("li",{parentName:"ul"},"テストしやすく変更にも強くなる （",Object(r.a)("strong",{parentName:"li"},"品質の向上"),"）")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"具体的にはどうやって分ける？"),Object(r.a)("p",null,"データ層・ロジック層・プレゼンテーション層などのレイヤーに分離"))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("img",{src:t(12)}))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Presentation Layer (React)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"マークアップやスタイリング"),Object(r.a)("li",{parentName:"ul"},"責務が明確なのでデザインシステムに移行しやすい（移行したとは言っていない）")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js:"}),'const CommentBoxTypeOne: React.FC<Props> = ({\n  messages,\n  handleMessageChange,\n  handleSubmit,\n  shouldDisableSendButton,\n}) => (\n  <div class="block">\n    <textarea\n      value={message}\n      onChange={handleMessageChange}\n    />\n    {!shouldDisableSendButton && <PrimaryButton onClick={handleSubmit} />}\n  </div>\n);\n')))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Presentaion Layer (React-Redux)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"コンポーネント・データを",Object(r.a)("strong",{parentName:"li"},"選択し紐付ける"))),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js:"}),"const CommentBox: React.FC<Props> = ({\n  shouldDisableSentButton,\n  messages,\n}) => {\n  if (someBranchingLogic) {\n    return <CommentBoxTypeOne />;\n  }\n  return <CommentBoxTypeTwo />;\n}\n\nconst mapStateToProps = ({ transaction }: Store) => ({\n  // ...some display logic\n  shouldDisableSentButton,\n  messages: someCalculation(transaction.messages),\n});;\n\nconst mapDispatchToProps = () => ({\n  handleMessageChange: updateMessage\n});\n\nexport const SmartCommentBox = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(CommentBox);\n")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Business Logic Layer (Redux-Saga)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"振る舞い"),"を定義する層")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{}),"例: メッセージを送信するときのビジネスロジック\n\n1. コメントボックスに入力されたメッセージを取り出す\n2. 本当に送信するかの確認のためにダイアログを表示する\n3. 確認ボタンが押されたらメッセージをAPIに送信する\n4. APIにエラーが発生したらエラーメッセージを表示する\n5. 送信に成功したらメッセージのリストを更新する\n")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Business Logic layer (Redux-Saga)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Sagaを起動")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js"}),"function createRootSaga(api: APIClient) {\n  return function *rootSaga() {\n    yield fork(function*() {\n      while(true) {\n        const action = yield take(POST_CHAT_MESSAGE);\n        yield call(postMessageSaga, apiClient, action);\n      }\n    });\n  }\n}\n")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Business Logic layer (Redux-Saga)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Saga本体")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js"}),'export function* postMessageSaga(api: APIClient, action: ReduxAction<{ message: string }>) {\n  // 1. コメントボックスに入力されたメッセージを取り出す\n  const { message } = action.payload;\n\n  // 2. 本当に送信するかの確認のためにダイアログを表示する\n  const confirmParams: ConfirmParams = {\n    message: "本当にメッセージを送信しますか？",\n    confirmText: "はい",\n    dismissText: "いいえ"\n  };\n  if (!(yield call(nativeConfirm, confirmParams))) {\n    return;\n  }\n\n  const evidenceId = yield select(transactionEvidenceSelector);\n\n  try {\n    // 3. 確認ボタンが押されたらメッセージをAPIに送信する\n    yield call([api, api.postTransactionmessage], { evidenceId, message });\n  } catch(e) {\n    // 4. APIにエラーが発生したらエラーメッセージを表示する\n    yield call(nativeAlert, e.message);\n    return;\n  }\n\n  // 5. 送信に成功したらメッセージのリストを更新する\n  yield call(fetchTransactionMessages, api, { evidenceId });\n}\n')))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"Data Layer (Redux Store)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("inlineCode",{parentName:"li"},"Reducer"),"にロジックを書くことは可能"),Object(r.a)("li",{parentName:"ul"},"絶対にロジックを持たせない強い意思が重要")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js:"}),'function comment(state: string = "", action: ReduxAction<Comment>) {\n  switch (action.type) {\n    case INPUT_COMMENT:\n      return action.payload;\n    case CLEAR_COMMENT:\n      return "";\n    default:\n      return state;\n  }\n}\n')))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"以上がフロントエンドアプリケーションの見通しを良くする設計論"),Object(r.a)("li",{parentName:"ul"},"とはいえどこに何を書くべきか混乱することもある")))},function(e){return Object(r.a)(l.a.Fragment,null,Object(r.a)("h2",null,"ディレクトリベースでレイヤを分割して分割の間違いが起こりにくいようにしている"),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{}),"src\n├── common\n│   └── components → Common Presentation Layer (Damb Components)\n│       ├── Button.tsx\n│       ├── Panel.tsx\n│       └── Row.tsx\n└── transactions → 取引方法ごとにディレクトリを分割\n    ├── car\n    ├── oogata\n    └── rakuraku\n        ├── Buyer.tsx\n        ├── Seller.tsx\n        ├── components → Specific Presentation Layer (Damb Components)\n        │   ├── ProductDetail.tsx\n        │   └── TransactionInfo.tsx\n        ├── containers → Presentation Layer (Smart Containers)\n        │   ├── Done.tsx\n        │   ├── WaitReview.tsx\n        │   └── WaitShipping.tsx\n        └── stores\n            ├── reducers.ts → Data Layer\n            └── sagas.ts → Logic Layer\n")))}],b=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],o={slides:i},O="wrapper";function s(e){var a=e.components,n=c(e,["components"]);return Object(r.a)(O,u({},o,n,{components:a,mdxType:"MDXLayout"}),Object(r.a)("h1",null,"今日のトピック"),Object(r.a)("hr",null),Object(r.a)("h1",null,"開発速度と品質を両立しながら開発を行うためにITPチームが何を行っているか"),Object(r.a)("hr",null),Object(r.a)("h2",null,"今日のまとめ"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"巨大なビジネスロジックの制御方法（何を作っているか）"),Object(r.a)("li",{parentName:"ul"},"スクラムの実践方法（どうやって作っているか）")),Object(r.a)("hr",null),Object(r.a)("h2",null,"ITPは単一のアプリケーションだが巨大で複雑なビジネスロジックを持っている"),Object(r.a)("p",null,"ITP（取引画面）は次の条件で振る舞いを変える"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"購入者")," か ",Object(r.a)("strong",{parentName:"li"},"出品者")),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"取引状態")," (WaitShipping / WaitReview / Done, ...)"),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"発送方法")," (らくらくメルカリ便, ゆうゆうメルカリ便, 大型らくらくメルカリ便, ...)"),Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"商品カテゴリ")," (あんしんスマホサポート, あんしん自動車保証, ...)")),Object(r.a)("hr",null),Object(r.a)("h2",null,"ITP（取引画面）の例"),Object(r.a)("p",null,Object(r.a)("img",u({parentName:"p"},{src:"https://github.com/karszawa/bio/blob/how-to-handle-speed-and-stability/slides/how-to-handle-speed-and-quality/slides/img/transaction-pages.png?raw=true",alt:"transaction-pages"}))),Object(r.a)("hr",null),Object(r.a)("h2",null,"ポイント 💡"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"ビジネスロジックは画面ごとに異なる"),Object(r.a)("li",{parentName:"ul"},"共有できるコンポーネントが多くある"),Object(r.a)("li",{parentName:"ul"},"☞ ビジネスロジックとUIがきれいに分割できるかどうかが重要")),Object(r.a)("span",{className:"vs-16"}),Object(r.a)("h2",null,"ビジネスロジックとUIがきれいに分割できると"),Object(r.a)("span",{className:"vs-16"}),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"再利用がしやすい （",Object(r.a)("strong",{parentName:"li"},"開発速度の向上"),"）"),Object(r.a)("li",{parentName:"ul"},"テストしやすく変更にも強くなる （",Object(r.a)("strong",{parentName:"li"},"品質の向上"),"）")),Object(r.a)("hr",null),Object(r.a)("h2",null,"具体的にはどうやって分ける？"),Object(r.a)("p",null,"データ層・ロジック層・プレゼンテーション層などのレイヤーに分離"),Object(r.a)("hr",null),Object(r.a)("img",{src:t(12)}),Object(r.a)("hr",null),Object(r.a)("h2",null,"Presentation Layer (React)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"マークアップやスタイリング"),Object(r.a)("li",{parentName:"ul"},"責務が明確なのでデザインシステムに移行しやすい（移行したとは言っていない）")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js:"}),'const CommentBoxTypeOne: React.FC<Props> = ({\n  messages,\n  handleMessageChange,\n  handleSubmit,\n  shouldDisableSendButton,\n}) => (\n  <div class="block">\n    <textarea\n      value={message}\n      onChange={handleMessageChange}\n    />\n    {!shouldDisableSendButton && <PrimaryButton onClick={handleSubmit} />}\n  </div>\n);\n')),Object(r.a)("hr",null),Object(r.a)("h2",null,"Presentaion Layer (React-Redux)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"コンポーネント・データを",Object(r.a)("strong",{parentName:"li"},"選択し紐付ける"))),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js:"}),"const CommentBox: React.FC<Props> = ({\n  shouldDisableSentButton,\n  messages,\n}) => {\n  if (someBranchingLogic) {\n    return <CommentBoxTypeOne />;\n  }\n  return <CommentBoxTypeTwo />;\n}\n\nconst mapStateToProps = ({ transaction }: Store) => ({\n  // ...some display logic\n  shouldDisableSentButton,\n  messages: someCalculation(transaction.messages),\n});;\n\nconst mapDispatchToProps = () => ({\n  handleMessageChange: updateMessage\n});\n\nexport const SmartCommentBox = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(CommentBox);\n")),Object(r.a)("hr",null),Object(r.a)("h2",null,"Business Logic Layer (Redux-Saga)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("strong",{parentName:"li"},"振る舞い"),"を定義する層")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{}),"例: メッセージを送信するときのビジネスロジック\n\n1. コメントボックスに入力されたメッセージを取り出す\n2. 本当に送信するかの確認のためにダイアログを表示する\n3. 確認ボタンが押されたらメッセージをAPIに送信する\n4. APIにエラーが発生したらエラーメッセージを表示する\n5. 送信に成功したらメッセージのリストを更新する\n")),Object(r.a)("hr",null),Object(r.a)("h2",null,"Business Logic layer (Redux-Saga)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Sagaを起動")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js"}),"function createRootSaga(api: APIClient) {\n  return function *rootSaga() {\n    yield fork(function*() {\n      while(true) {\n        const action = yield take(POST_CHAT_MESSAGE);\n        yield call(postMessageSaga, apiClient, action);\n      }\n    });\n  }\n}\n")),Object(r.a)("hr",null),Object(r.a)("h2",null,"Business Logic layer (Redux-Saga)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Saga本体")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js"}),'export function* postMessageSaga(api: APIClient, action: ReduxAction<{ message: string }>) {\n  // 1. コメントボックスに入力されたメッセージを取り出す\n  const { message } = action.payload;\n\n  // 2. 本当に送信するかの確認のためにダイアログを表示する\n  const confirmParams: ConfirmParams = {\n    message: "本当にメッセージを送信しますか？",\n    confirmText: "はい",\n    dismissText: "いいえ"\n  };\n  if (!(yield call(nativeConfirm, confirmParams))) {\n    return;\n  }\n\n  const evidenceId = yield select(transactionEvidenceSelector);\n\n  try {\n    // 3. 確認ボタンが押されたらメッセージをAPIに送信する\n    yield call([api, api.postTransactionmessage], { evidenceId, message });\n  } catch(e) {\n    // 4. APIにエラーが発生したらエラーメッセージを表示する\n    yield call(nativeAlert, e.message);\n    return;\n  }\n\n  // 5. 送信に成功したらメッセージのリストを更新する\n  yield call(fetchTransactionMessages, api, { evidenceId });\n}\n')),Object(r.a)("hr",null),Object(r.a)("h2",null,"Data Layer (Redux Store)"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},Object(r.a)("inlineCode",{parentName:"li"},"Reducer"),"にロジックを書くことは可能"),Object(r.a)("li",{parentName:"ul"},"絶対にロジックを持たせない強い意思が重要")),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{className:"language-js:"}),'function comment(state: string = "", action: ReduxAction<Comment>) {\n  switch (action.type) {\n    case INPUT_COMMENT:\n      return action.payload;\n    case CLEAR_COMMENT:\n      return "";\n    default:\n      return state;\n  }\n}\n')),Object(r.a)("hr",null),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"以上がフロントエンドアプリケーションの見通しを良くする設計論"),Object(r.a)("li",{parentName:"ul"},"とはいえどこに何を書くべきか混乱することもある")),Object(r.a)("hr",null),Object(r.a)("h2",null,"ディレクトリベースでレイヤを分割して分割の間違いが起こりにくいようにしている"),Object(r.a)("pre",null,Object(r.a)("code",u({parentName:"pre"},{}),"src\n├── common\n│   └── components → Common Presentation Layer (Damb Components)\n│       ├── Button.tsx\n│       ├── Panel.tsx\n│       └── Row.tsx\n└── transactions → 取引方法ごとにディレクトリを分割\n    ├── car\n    ├── oogata\n    └── rakuraku\n        ├── Buyer.tsx\n        ├── Seller.tsx\n        ├── components → Specific Presentation Layer (Damb Components)\n        │   ├── ProductDetail.tsx\n        │   └── TransactionInfo.tsx\n        ├── containers → Presentation Layer (Smart Containers)\n        │   ├── Done.tsx\n        │   ├── WaitReview.tsx\n        │   └── WaitShipping.tsx\n        └── stores\n            ├── reducers.ts → Data Layer\n            └── sagas.ts → Logic Layer\n")))}s.isMDXComponent=!0}],[[17,5,6]],[0,8]]);